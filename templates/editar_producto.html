<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Editar Producto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='style/styleEditarProduct.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/styleGeneral.css') }}?v=1">

</head>
<body class="d-flex flex-column min-vh-100 bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4">
    <!-- Logo -->
    <img src="{{ url_for('static', filename='images/logoSfer_ProductManager_blanco.png') }}" alt="Logo" width="50" height="50" class="mb-1">
    <a class="navbar-brand me-3" href="{{ url_for('admin_productos') }}">EDITAR PRODUCTOS </a>

    <!-- Bot√≥n hamburguesa -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Men√∫ colapsable -->
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
            <!-- Cerrar sesi√≥n alineado a la derecha -->
            <li class="nav-item">
                <a class="nav-link text-danger" href="{{ url_for('logout') }}">Cerrar sesi√≥n</a>
            </li>
        </ul>
    </div>
</nav>

<div class="container d-flex justify-content-center align-items-center" style="min-height: 90vh;">
  <div class="card p-5 shadow" style="width: 100%; max-width: 600px;">
    <h2 class="text-center mb-4 fw-bold">üõ†Ô∏è Editar Producto</h2>

    <form method="POST" enctype="multipart/form-data">
      <div class="mb-3">
        <label for="nombre" class="form-label">Nombre</label>
        <input type="text" class="form-control" id="nombre" name="nombre" value="{{ producto.nombre }}" required>
      </div>

      <div class="mb-3">
        <label for="descripcion" class="form-label">Descripci√≥n</label>
        <textarea class="form-control" id="descripcion" name="descripcion" rows="3" required>{{ producto.descripcion }}</textarea>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="stock" class="form-label">Stock</label>
          <input type="number" class="form-control" id="stock" name="stock" value="{{ producto.cantidad_en_stock }}" required>
        </div>
        <div class="col-md-6 mb-3">
          <label for="precio" class="form-label">Precio (‚Ç¨)</label>
          <input type="text" class="form-control" id="precio" name="precio" value="{{ producto.precio }}" required>
        </div>
      </div>

      <div class="mb-3">
        <label for="ubicacion" class="form-label">Ubicaci√≥n</label>
        <input type="text" class="form-control" id="ubicacion" name="ubicacion" value="{{ producto.ubicacion }}">
      </div>

      <div class="mb-3">
        <label for="color" class="form-label">Color</label>
        <input type="text" class="form-control" id="color" name="color" value="{{ producto.color }}">
      </div>

      {% if producto.imagen %}
      <div class="mb-4 text-center">
        <label class="form-label">Imagen actual</label><br>
        <img src="{{ url_for('static', filename='images/' ~ producto.imagen) }}"
             alt="Imagen del producto"
             class="img-fluid rounded shadow"
             style="max-height: 200px;">
      </div>
      {% endif %}

      <div class="mb-4">
        <label for="imagen" class="form-label">Nueva imagen (opcional)</label>
        <input type="file" class="form-control" id="imagen" name="imagen">
      </div>

      <div class="d-flex justify-content-between">
        <button type="submit" class="btn btn-success px-4">üíæ Guardar Cambios</button>
        <a href="{{ url_for('admin_productos') }}" class="btn btn-secondary px-4">Cancelar</a>
      </div>
    </form>
  </div>
</div>
<br>
</body>
<footer class="bg-dark text-white mt-auto pt-4">
  <div class="container">
    <div class="row justify-content-between align-items-center">

      <!-- Izquierda: Informaci√≥n del proyecto -->
      <div class="col-md-6 mb-3 mb-md-0">
        <h5 class="text-uppercase fw-bold">SFER & PRODUCTMANAGER</h5>
        <p class="mb-0">
          Plataforma premium para la gesti√≥n inteligente de productos y proveedores.
        </p>
      </div>

      <!-- Derecha: Contacto y redes sociales -->
      <div class="col-md-6 text-md-end">
        <p class="mb-1">Contacto: <a href="mailto:info@sfermanager.com" class="text-white">info@sfermanager.com</a> | +34 600 000 000</p>
        <a href="https://www.linkedin.com/in/sergio-fern√°ndez-l√≥pez-8784bb270" target="_blank" class="text-white me-3 text-decoration-none">
          <i class="bi bi-linkedin"></i> LinkedIn
        </a>
        <a href="#" target="_blank" class="text-white text-decoration-none">
          <i class="bi bi-instagram"></i> Instagram
        </a>
      </div>
    </div>

    <hr class="bg-light my-3">

    <!-- Pie inferior -->
    <div class="text-center text-secondary small pb-3">
      ¬© {{ current_year if current_year else 2025 }} Sfer & ProductManager ¬∑ Todos los derechos reservados
    </div>
  </div>

</footer>
</html>
